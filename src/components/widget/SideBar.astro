---
import type { MarkdownHeading } from "astro";
import Categories from "./Categories.astro";
import Profile from "./Profile.astro";
import Tag from "./Tags.astro";
import Series from "./Series.astro";
import Announcement from "./Announcement.astro";

interface Props {
  class?: string;
  headings?: MarkdownHeading[];
  series?: string;
}

const className = Astro.props.class;
const series = Astro.props.series;
---

<div id="sidebar" class:list={[className, "w-full"]}>
  <div class="flex flex-col w-full gap-4 mb-4">
    <Profile />
  </div>
  <div
    id="sidebar-sticky"
    class="transition-all duration-700 flex flex-col w-full gap-4 sticky top-4"
  >
    <Announcement class="onload-animation" style="animation-delay: 120ms" />
    {
      series && series.length > 0 && (
        <div id="series" class="flex flex-col w-full gap-4">
          <Series series={series} />
        </div>
      )
    }
    <Categories class="onload-animation" style="animation-delay: 150ms" />
    <Tag class="onload-animation" style="animation-delay: 200ms" />
    <!-- 赞助标 -->
    <!-- <div class="overflow-hidden flex justify-center">
			<a href="https://secbit.ai/" target="_blank" rel="noopener noreferrer">
				<img src="/aff/secbit-banner-1.gif" alt="Secbit" class="w-full max-w-[280px] rounded-lg hover:opacity-90 transition-opacity" />
			</a>
		</div>
		<div class="overflow-hidden flex justify-center">
			<iframe
				src="https://support.nodeget.com/page/promotion?id=316"
				style="border:none; border-radius:8px; height:270px; width:100%; max-width:280px;
				transform: scale(1.0); transform-origin: center top;"
			></iframe>
		</div> -->
  </div>
</div>
